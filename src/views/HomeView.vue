<script>
import { RouterLink, RouterView } from 'vue-router'
import NavBar from '@/components/NavBar.vue'
import Footer from '@/components/Footer.vue'

export default{
  components:{
    NavBar,
    Footer
  },
  data() {
    return {
      images:[
      ]
    };
  },
}
</script>

â€<template>
â€  <main>
â€    <div class="home">
â€      <NavBar />

      <!-- âœ… Ø´Ø±ÙŠØ· ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
â€      <div class="login-header">
â€        <div v-if="!discordUser">
â€          <a :href="discordLoginUrl" class="discord-btn">ğŸ” ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¹Ø¨Ø± Ø¯ÙŠØ³ÙƒÙˆØ±Ø¯</a>
â€        </div>
â€        <div v-else class="profile">
â€          <img
â€            :src="`https://cdn.discordapp.com/avatars/${discordUser.id}/${discordUser.avatar}.png`"
â€            alt="Avatar"
â€            class="avatar"
          />
â€          <p>Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ {{ discordUser.username }}#{{ discordUser.discriminator }}</p>
â€        </div>
â€      </div>

      <!-- Ø§Ù„Ù†Øµ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
â€      <div class="text">
â€        <h1>Ø®Ù„ÙŠ Ø³ØªÙˆØ±</h1>
â€        <h2>Ù…ØªØ¬Ø± Ø±Ù‚Ù…ÙŠ Ù…ØªØ®ØµØµ ÙÙŠ ØªÙ‚Ø¯ÙŠÙ… Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© ÙˆØªØ·ÙˆÙŠØ± Ø§Ù„Ø­Ù„ÙˆÙ„ Ø§Ù„ØªÙ‚Ù†ÙŠØ© ÙˆØ§Ù„Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„Ø§Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</h2>
â€        <div class="btns">
â€          <RouterLink class="btn" to="/products">Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</RouterLink>
â€          <RouterLink class="btn" to="/order">Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</RouterLink>
â€        </div>
â€      </div>

      <!-- Ù…ÙˆØ¬Ø© -->
â€      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320">
â€        <path fill="#ffffff" fill-opacity="1"
â€          d="M0,128L48,149.3C96,171,192,213,288,224C384,235,480,213,576,186.7C672,160,768,128,864,133.3C960,139,1056,181,1152,186.7C1248,192,1344,160,1392,144L1440,128L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z" />
â€      </svg>
â€    </div>

    <!-- ØªÙ‚ÙŠÙŠÙ…Ø§Øª -->
â€    <div class="feedbacks">
â€      <h1>ØªÙ€Ù‚Ù€ÙŠÙŠÙ…Ù€Ø§Øª Ø§Ù„Ù…Ù€ØªÙ€Ø¬Ù€Ø± <font-awesome-icon :icon="['fas', 'comment']" /></h1>
â€      <div class="cont">
â€        <div v-for="feedback in feedbackList" :key="feedback.id" class="cont1" data-aos="fade-right" data-aos-duration="1500">
â€          <div class="top">
â€            <div class="left">
â€              <img :src="feedback.avatar" />
â€              <p>{{ feedback.username }}</p>
â€            </div>
â€            <div class="right">
â€              <p>â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸</p>
â€            </div>
â€          </div>
â€          <h3>{{ feedback.text }}</h3>
â€        </div>
â€      </div>
â€    </div>

â€    <Footer />
â€  </main>
â€</template>

â€<script>
â€import NavBar from "@/components/NavBar.vue";
â€import Footer from "@/components/Footer.vue";

â€export default {
â€  components: { NavBar, Footer },
â€  data() {
â€    return {
â€      discordUser: null,
â€      feedbackList: [
        {
â€          id: 1,
â€          username: ".11m",
â€          avatar: "",
â€          text: "Ù‚Ø³Ù… Ø¨Ø§Ù„Ù„Ù‡ Ø¹Ø³Ù„ Ù‚Ù„ÙŠÙ„Ù‡ Ø¨Ø­Ù‚Ù‡ Ø±Ø¬Ø§Ù„ Ø£Ø®Ù„Ø§Ù‚ ÙˆØ£Ø³Ù„ÙˆØ¨ ÙˆØµØ¨Ø± Ø¹Ù„ÙŠ Ù…Ø¯Ø±ÙŠ ÙƒÙŠÙ"
        },
        {
â€          id: 2,
â€          username: "_9nj",
â€          avatar: "",
â€          text: "Ø§Ù„Ø£ÙØ¶Ù„ Ùˆ Ø§Ù„Ø£Ø³Ø±Ø¹  Ø£Ø³Ù„ÙˆØ¨ ÙˆØ§Ø®Ù„Ø§Ù‚ ÙˆÙ…Ø¶Ù…ÙˆÙ†"
        },
        {
â€          id: 3,
â€          username: "0.pa",
â€          avatar: "",
â€          text: "Ø§Ù†Ø§ Ù…ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø±Ø¬Ø§Ù„ Ùˆ Ø§Ø³Ù„ÙˆØ¨Ù‡ Ù…Ø±Ø§ Ø­Ù„Ùˆ + Ø§Ø³Ø¹Ø§Ø± Ø¨ÙˆØªØ§ØªÙ‡ Ø±Ø®ÙŠØµÙ‡ Ø±ØºÙ… Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù†ØµØ­ Ø¨Ø§Ù„ØªØ¹Ø§Ù…Ù„"
        }
      ]
    };
  },
â€  computed: {
â€    discordLoginUrl() {
â€      const CLIENT_ID = "Ø¶Ø¹_Ù‡Ù†Ø§_CLIENT_ID";
â€      const REDIRECT_URI = encodeURIComponent("https://your-vercel-app.vercel.app"); // ØºÙŠØ±Ù‡ Ø¥Ø°Ø§ ÙƒÙ†Øª Ø¹Ù„Ù‰ localhost
â€      return `https://discord.com/oauth2/authorize?client_id=${CLIENT_ID}&redirect_uri=${REDIRECT_URI}&response_type=code&scope=identify`;
    }
  },
â€  async mounted() {
â€    const params = new URLSearchParams(window.location.search);
â€    const code = params.get("code");

â€    if (code) {
â€      try {
â€        const response = await fetch(`https://your-vercel-app.vercel.app/api/auth/discord?code=${code}`);
â€        const data = await response.json();
â€        this.discordUser = data.user;
â€        localStorage.setItem("discordUser", JSON.stringify(data.user));
â€        window.history.replaceState({}, document.title, "/");
â€      } catch (err) {
â€        console.error("ÙØ´Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„", err);
      }
â€    } else {
â€      const saved = localStorage.getItem("discordUser");
â€      if (saved) this.discordUser = JSON.parse(saved);
    }
  }
};
â€</script>


<style scoped>
.cont img{
  border-radius:8px;
  width:40%;
}

.card{
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  padding:20px 20px;
  border-radius:10px;
  gap:30px;
}

.home svg{
  margin-top:auto;
}

.card h2{
  font-size:30px;
  color:#525359;
}

.card .info{
  width:100%;
  font-size:20px;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:end;
}

.cont{
  margin-top:100px;
  width:100%;
  display:flex;
  flex-direction:row;
  gap:80px;
  justify-content:center;
  flex-wrap:wrap;
}

.card .price{
  width:100%;
  direction:rtl;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:start;
  gap:10px;
}

.prices h1,.feedbacks h1,.works h1{
  color:#4758b0;
  font-size:55px;
}

main{
  width:100%;
  height:100%;
  overflow:hidden;
}

.prices{
  margin-top:100px;
  width:100%;
  display:flex;
  flex-direction:column;
  align-items:center;
}

.feedbacks{
  margin-top:100px;
  width:100%;
  display:flex;
  flex-direction:column;
  align-items:center;
}

.works{
  margin-top:100px;
  width:100%;
  display:flex;
  flex-direction:column;
  align-items:center;
}

.home{
  width:100%;
  height:100vh;
  background-color:#4758b0;
  background-size:cover;
}

.text{
  text-align:center;
  margin-top:150px;
  width:100%;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  gap:8px;
}

.text h1{
  color:white;
  font-size:55px;
  text-shadow:1px 1px 3px rgba(0, 0, 0, 0.425);
}

.text h2{
  color:rgb(255, 255, 255);
  font-weight:lighter;
  width:40%;
  text-shadow:2px 2px 5px rgba(0, 0, 0, 0.377);
}

.btns{
  margin-top:10px;
  display:flex;
  justify-content:center;
  align-items:center;
  gap:20px;
}

.btn{
  text-decoration:none;
  color:#4758b0;
  padding:8px 30px;
  border-radius:25px;
  background-color:white;
  cursor:pointer;
  box-shadow:2px 2px 5px rgba(0, 0, 0, 0.377);
}

.feedbacks img{
  border-radius:100%;
  background-color:#4758b0;
  width:50px;
  height:50px;
  display:none;
}

.cont1{
  border-radius:8px;
  background-color:whitesmoke;
  width:400px;
  padding:5px 10px;
  height:250px;
  display:flex;
  flex-direction:column;
  border-top:4px solid #4758b0;
  border-bottom:4px solid #4758b0;
}

.top{
  margin-top:15px;
  display:flex;
  justify-content:space-around;
  align-items:center;
}

.left{
  display:flex;
  justify-content:space-around;
  align-items:center;
}

.top img{
  width:40px;
  margin-right:10px;
}

.cont1 h3{
  text-align:end;
  margin-top:60px;
  padding:5px 5px;
}

@media screen and (max-width: 768px) {
  .home svg{
    display:none;
  }

  .home{
    min-height:100vh;
  }

  .home .text h2{
    width:90%;
  }

  .prices{
    margin-top:200px;
  }

  .works img{
    width:80%;
  }
  .cont1{
    width:90%;
  }

  .prices .card{
    width:90%;
  }
  .card img{
    width:200px;
  }
  .cont1 p{
    font-size:20px;
  }

  .prices .card{
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    text-align:center;
  }

  .prices .card h2,
  .prices .card .info,
  .prices .card .price{
    width:300px;
  }

  .home{
    min-height:120vh;
  }
}
</style>